(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{600:function(e,a,r){"use strict";r.r(a);var t=r(2),s=Object(t.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"webstorm中使用正则替换文本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webstorm中使用正则替换文本"}},[e._v("#")]),e._v(" Webstorm中使用正则替换文本")]),e._v(" "),a("h3",{attrs:{id:"webstorm中使用正则替换文本-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webstorm中使用正则替换文本-2"}},[e._v("#")]),e._v(" Webstorm中使用正则替换文本")]),e._v(" "),a("h4",{attrs:{id:"需求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#需求"}},[e._v("#")]),e._v(" 需求")]),e._v(" "),a("p",[e._v("有这样一段代码：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("var num = req.body.num;var bankcard = req.body.bankcard2;var pay_type = req.body.pay_type;\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("需要快速替换成如下格式：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("var num = req.param.('num');var bankcard = req.param.('bankcard2');var pay_type = req.param.('pay_type');\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h4",{attrs:{id:"分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分析"}},[e._v("#")]),e._v(" 分析")]),e._v(" "),a("p",[e._v("显然普通的替换方法做不到这样的效果，看来需要用到正则了，如果只是查找文本，这个正则很好写：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("req.body.\\w+\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("但是替换的时候用正则怎么做呢？")]),e._v(" "),a("p",[e._v("因为使用 WebStorm 开发，所以去 WebStorm Help 文档里瞄一下，哈哈，万能的 WebStorm 果然支持正则替换。见文档："),a("a",{attrs:{href:"https://www.jetbrains.com/webstorm/help/find-and-replace-in-path.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.jetbrains.com/webstorm/help/find-and-replace-in-path.html"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("这里讲到了一个 "),a("strong",[e._v("back references")]),e._v(" 向后引用的概念，在替换文本中使用 $n 来表示 back references ，就可以实现动态替换。那 back references 究竟是什么呢，还是看示例吧。")]),e._v(" "),a("h4",{attrs:{id:"示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[e._v("#")]),e._v(" 示例")]),e._v(" "),a("p",[e._v("就上文中的需求，我们先写出查询的正则：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("req.body.(\\w+)\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("这里用到 \\w+ 通配符来适配 req.body. 之后的不同内容，注意这里用括号()包起了 \\w+ ，括号的作用是定义一个 back references。")]),e._v(" "),a("p",[e._v("那么替换的正则是：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("req.param.('$1')\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("就这样，我们使用 $1 来动态替换 (\\w+) 这个back references 匹配到的内容。")]),e._v(" "),a("h4",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[e._v("#")]),e._v(" 总结")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("正则替换不是所以编辑器都支持的，而且每个编辑器的支持方法都不一致，这里描述的方法只适用于 WebStorm ，理论上适用于 jetbrains 出品的其他编辑器如 IDEA PhpStorm PyCharm 等。")])]),e._v(" "),a("li",[a("p",[e._v("查询的时候顺便找到了 Notepad++ 的正则替换实现，有兴趣的瞄一下："),a("a",{attrs:{href:"http://www.crifan.com/files/doc/docbook/rec_soft_npp/release/htmls/npp_func_regex_replace.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://www.crifan.com/files/doc/docbook/rec_soft_npp/release/htmls/npp_func_regex_replace.html"),a("OutboundLink")],1)])])])])}),[],!1,null,null,null);a.default=s.exports}}]);