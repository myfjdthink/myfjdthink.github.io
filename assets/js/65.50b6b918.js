(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{618:function(e,r,t){"use strict";t.r(r);var s=t(2),o=Object(s.a)({},(function(){var e=this,r=e._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"使用-typescript-做后端应用开发"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用-typescript-做后端应用开发"}},[e._v("#")]),e._v(" 使用 typescript 做后端应用开发")]),e._v(" "),r("p",[e._v("最近开始了一个新的小项目，所以打算使用 typescript，感受一下有类型系统的 js。")]),e._v(" "),r("h2",{attrs:{id:"技术选型"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#技术选型"}},[e._v("#")]),e._v(" 技术选型")]),e._v(" "),r("p",[e._v("typescript+express+mongoose")]),e._v(" "),r("p",[e._v("因为 typescript 已经提供了 async await 语法的支持，所以就不考虑使用 koa 了，因为 express 的中间件会更丰富一些。")]),e._v(" "),r("p",[e._v("数据库部分则使用 mongoose 来连接。")]),e._v(" "),r("p",[e._v("test.")]),e._v(" "),r("h2",{attrs:{id:"好玩的点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#好玩的点"}},[e._v("#")]),e._v(" 好玩的点")]),e._v(" "),r("ol",[r("li",[e._v("ES6语法全支持")]),e._v(" "),r("li",[e._v("async + await 带了了同步代码的编写体验")]),e._v(" "),r("li",[e._v("decorator 装饰器")]),e._v(" "),r("li",[e._v("编译期的错误提示\n下面是一个 Controller 的代码 Demo。")])]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("/** * Created by nick on 16/5/20. */import e = require('express');import BaseController from './common/BaseController';import Logger from '../../Logger';import {router} from '../decorators/Web';import {User} from '../models/User';class UserController extends BaseController {  @router('post /user/create')  async create(req: e.Request, res: e.Response) {    const user = req.body    console.log('UserAccountController', 'create ', user);    const cUser = await User.create(user)    console.log('UserAccountController', 'create result', cUser);    res.send(cUser);  }  @router()  async findOne(req: e.Request, res) {    const ud = req.query.ud    Logger.info('ud ', ud)    let result = await User.findById(ud);    res.send(result);  }}export default UserController\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])]),r("h2",{attrs:{id:"项目代码"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#项目代码"}},[e._v("#")]),e._v(" 项目代码")]),e._v(" "),r("p",[e._v("项目代码已经放在了 github 上。")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/myfjdthink/typescript-express-mongoose",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/myfjdthink/typescript-express-mongoose"),r("OutboundLink")],1)])])}),[],!1,null,null,null);r.default=o.exports}}]);